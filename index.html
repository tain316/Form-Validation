<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>คำร้องขอโอนย้ายสาขาวิชา มจท.16</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">

  <div class="bg-white p-8 rounded-lg shadow-md w-full max-w-2xl">
    <h2 class="text-2xl font-bold text-center text-indigo-700 mb-6">คำร้องขอโอนย้ายสาขาวิชาต่างคณะ (มจท.16)</h2>

    <form id="transferForm" class="space-y-4">
      <!-- ชื่อ-นามสกุล -->
      <div>
        <label class="block font-medium">ชื่อ-นามสกุล</label>
        <input type="text" id="fullName" class="w-full p-2 border rounded" placeholder="เช่น จิตรภณ ใจดี">
        <p id="nameError" class="text-red-500 text-sm mt-1 hidden">กรุณากรอกชื่อ-นามสกุลอย่างน้อย 2 คำ</p>
      </div>

      <!-- รหัสนักศึกษา -->
      <div>
        <label class="block font-medium">รหัสนักศึกษา</label>
        <input type="text" id="studentId" class="w-full p-2 border rounded" placeholder="เช่น 6100000000">
        <p id="idError" class="text-red-500 text-sm mt-1 hidden">กรุณากรอกรหัสนักศึกษาให้ถูกต้อง</p>
      </div>

      <!-- เบอร์โทรศัพท์ -->
      <div>
        <label class="block font-medium">เบอร์โทรศัพท์</label>
        <input type="text" id="phone" class="w-full p-2 border rounded" placeholder="เช่น 0812345678">
        <p id="phoneError" class="text-red-500 text-sm mt-1 hidden">กรุณากรอกเบอร์โทรศัพท์ 10 หลักขึ้นต้นด้วย 0</p>
      </div>

      <!-- ระบบหลักสูตร -->
      <div>
        <label class="block font-medium">ระบบหลักสูตร</label>
        <select id="programType" class="w-full p-2 border rounded">
          <option value="">-- กรุณาเลือก --</option>
          <option value="4">หลักสูตร 4 ปี</option>
          <option value="2">หลักสูตร 4 ปีเทียบเข้าเรียน (2 ปี)</option>
        </select>
        <p id="programError" class="text-red-500 text-sm mt-1 hidden">กรุณาเลือกระบบหลักสูตร</p>
      </div>

      <!-- หน่วยกิตสะสม -->
      <div>
        <label class="block font-medium">จำนวนหน่วยกิตสะสม</label>
        <input type="number" id="credits" class="w-full p-2 border rounded" min="0">
        <p id="creditError" class="text-red-500 text-sm mt-1 hidden">จำนวนหน่วยกิตไม่ผ่านเกณฑ์</p>
      </div>

      <!-- GPA -->
      <div>
        <label class="block font-medium">คะแนนเฉลี่ยสะสม (GPA)</label>
        <input type="number" id="gpa" class="w-full p-2 border rounded" step="0.01" min="0" max="4">
        <p id="gpaError" class="text-red-500 text-sm mt-1 hidden">GPA ต้องไม่น้อยกว่า 2.00</p>
      </div>

      <!-- สาขาวิชาใหม่ -->
      <div>
        <label class="block font-medium">สาขาวิชาที่ต้องการโอนย้ายไป</label>
        <input type="text" id="newMajor" class="w-full p-2 border rounded">
        <p id="majorError" class="text-red-500 text-sm mt-1 hidden">กรุณาระบุสาขาวิชาใหม่</p>
      </div>

      <!-- เหตุผล -->
      <div>
        <label class="block font-medium">เหตุผลในการโอนย้าย</label>
        <textarea id="reason" class="w-full p-2 border rounded" rows="3"></textarea>
        <p id="reasonError" class="text-red-500 text-sm mt-1 hidden">กรุณาระบุเหตุผล</p>
      </div>

      <button type="submit" class="w-full bg-indigo-600 text-white py-2 rounded hover:bg-indigo-700">ยื่นคำร้อง</button>
    </form>
  </div>

  <!-- Modal -->
  <div id="successModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
    <div class="bg-white p-6 rounded-lg shadow-lg text-center">
      <h3 class="text-xl font-bold text-green-600 mb-4">ยื่นคำร้องสำเร็จ ✅</h3>
      <p class="text-gray-700">ระบบได้รับข้อมูลของคุณเรียบร้อยแล้ว</p>
      <button onclick="closeModal()" class="mt-4 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">ปิด</button>
    </div>
  </div>

  <script>
    const form = document.getElementById('transferForm');
    const modal = document.getElementById('successModal');

    form.addEventListener('submit', function(e) {
      e.preventDefault();

      // Input fields
      const fullName = document.getElementById('fullName').value.trim();
      const studentId = document.getElementById('studentId').value.trim();
      const phone = document.getElementById('phone').value.trim();
      const programType = document.getElementById('programType').value;
      const credits = parseInt(document.getElementById('credits').value);
      const gpa = parseFloat(document.getElementById('gpa').value);
      const newMajor = document.getElementById('newMajor').value.trim();
      const reason = document.getElementById('reason').value.trim();

      // Error elements
      const errors = {
        nameError: fullName.split(' ').length < 2,
        idError: studentId.length < 8,
        phoneError: !/^0\d{9}$/.test(phone),
        programError: programType === '',
        creditError: (programType === '4' && credits < 30) || (programType === '2' && credits < 18),
        gpaError: isNaN(gpa) || gpa < 2.00,
        majorError: newMajor === '',
        reasonError: reason === ''
      };

      // Show/hide errors
      Object.entries(errors).forEach(([key, hasError]) => {
        document.getElementById(key).classList.toggle('hidden', !hasError);
      });

      // If no errors, show modal
      if (!Object.values(errors).includes(true)) {
        modal.classList.remove('hidden');
        form.reset();
      }
    });

    function closeModal() {
      document.getElementById('successModal').classList.add('hidden');
    }
  </script>

</body>
</html>